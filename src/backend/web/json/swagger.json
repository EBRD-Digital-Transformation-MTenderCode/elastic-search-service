{
    "swagger": "2.0",
    "info": {
        "description": "сервис для поиска данных о тендерах и бюджетах в ElasticSearch.",
        "version": "1.0.0",
        "title": "Elastic Search service"
    },
  "tags":[
    {
      "name":"methods",
      "description":"API-справочник методов сервиса ElasticSearch."
    },    
    {
      "name":"Budgets",
      "description":"Бюджеты."
    },
    {
      "name":"Tenders",
      "description":"Тендера."
    },
    {
      "name":"Plans",
      "description":"Планы."
    }
  ],    
    "basePath": "/rest-api",
    "schemes": [
        "http"
    ],
    "paths": {
        "/v1":{
            "get":{
                "tags":[
                    "methods"
                ],
                "summary":"Get all methods (Получение всех methods)",
                "description":"Метод является API-справочником методов ElasticSearch и используется для получения информации о каждом методе сервиса ElasticSearch в формате JSON. Это позволяет клиенту выполнить свою автоматическую подстройку под сервис, либо воспользоватся полученными данными в качестве API-версии help page.",
                "produces":[
                    "application/json"
                ],
                "parameters":[
                    {
                        "in":"query",
                        "name":"url",
                        "type":"string",
                        "required":false,
                        "description":"При заполнении поля значением url отдельного метода получим инфо о свойствах этого метода (для получения url отдельного метода осуществляем метод Get/methods не заполняя данное поле)."
                    }
                ],
                "responses":{
                    "200":{
                        "description":"OK",
                        "schema":{
                            "$ref":"#/definitions/200Methods"
                        }
                    },
                    "400":{
                        "description":"Data Validation Failed."
                    }
                }
            }
        },
        "/v1/budgets/search": {
            "get": {
                "tags": [
                    "Budgets"
                ],
                "summary": "Get all budgets with ElasticSearch (Получение всех бюджетов через Elasticsearch)",
                "description": "получение всех записей о бюджетах через Elasticsearch",
                "consumes": [
                    "application/x-www-form-urlencoded"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters":[
                    {
                        "in":"query",
                        "name":"ocid",
                        "type":"string",
                        "required":false,
                        "description": "ocid бюджета"
                    },
                    {
                        "in":"query",
                        "name":"title",
                        "type":"string",
                        "required":false,
                        "description": "заголовок бюджета"
                    },
                    {
                        "in":"query",
                        "name":"description",
                        "type":"string",
                        "required":false,
                        "description": "описание бюджета"
                    },
                    {
                        "in":"query",
                        "name":"pageSize",
                        "type":"string",
                        "required":false,
                        "description": "Кол-во записей на странице (значение -1 выводит все записи)"
                    },
                    {
                        "in":"query",
                        "name":"page",
                        "type":"string",
                        "required":false,
                        "description": "Номер страницы для отображения"
                    }
                ],
                "responses":{
                    "200":{
                        "description":"OK",
                        "schema":{
                            "$ref":"#/definitions/200Budget"
                        }
                    },
                    "400":{
                        "description":"Data Validation Failed."
                    }  
                }
            }
        },
        "/v1/tenders/search": {
            "get": {
                "tags": [
                    "Tenders"
                ],
                "summary": "Get all tenders with ElasticSearch (Получение всех тендеров через Elasticsearch)",
                "description": "получение всех записей о тендерах через Elasticsearch",
                "consumes": [
                    "application/x-www-form-urlencoded"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters":[
                    {
                        "in": "query",
                        "name": "id",
                        "type": "string",
                        "required":false,
                        "description": "id"
                    },
                    {
                        "in":"query",
                        "name":"title",
                        "type":"string",
                        "required":false,
                        "description": "заголовок тендера"
                    },
                    {
                        "in":"query",
                        "name":"description",
                        "type":"string",
                        "required":false,
                        "description": "описание тендера"
                    },
                    {
                        "in":"query",
                        "name":"titlesOrDescriptions",
                        "type":"string",
                        "required":false,
                        "description": "поле полнотекстового поиска"
                    },
                    {
                        "in": "query",
                        "name": "titlesOrDescriptionsStrict",
                        "type": "boolean",
                        "enum": [true, false],
                        "description": "признак строгого соответствия"
                    },
                    {
                        "in": "query",
                        "name": "buyersRegions",
                        "type": "string",
                        "description": "регионы заказчиков<br /> json array"
                    },
                    {
                        "in": "query",
                        "name": "deliveriesRegions",
                        "type": "string",
                        "description": "регионы доставки<br /> json array"
                    },
                    {
                        "in": "query",
                        "name": "proceduresTypes",
                        "type": "string",
                        "description": "типы процедур<br /> json array"
                    },
                    {
                        "in": "query",
                        "name": "proceduresStatuses",
                        "type": "string",
                        "description": "статусы процедур<br /> json array"
                    },
                    {
                        "in": "query",
                        "name": "amountFrom",
                        "type": "string",
                        "description": "бюджет, от"
                    },
                    {
                        "in": "query",
                        "name": "amountTo",
                        "type": "string",
                        "description": "бюджет, до"
                    },
                    {
                        "in": "query",
                        "name": "classifications",
                        "type": "string",
                        "description": "классификации<br /> json array"
                    },
                    {
                        "in": "query",
                        "name": "periodPublishedFrom",
                        "type": "string",
                        "description": "период публикации, от"
                    },
                    {
                        "in": "query",
                        "name": "periodPublishedTo",
                        "type": "string",
                        "description": "период публикации, до"
                    },
                    {
                        "in": "query",
                        "name": "periodDeliveryFrom",
                        "type": "string",
                        "description": "период доставки, от"
                    },
                    {
                        "in": "query",
                        "name": "periodDeliveryTo",
                        "type": "string",
                        "description": "период доставки, до"
                    },
                    {
                        "in": "query",
                        "name": "periodEnquiryFrom",
                        "type": "string",
                        "description": "период обсуждения, от"
                    },
                    {
                        "in": "query",
                        "name": "periodEnquiryTo",
                        "type": "string",
                        "description": "период обсуждения, до"
                    },
                    {
                        "in": "query",
                        "name": "periodOfferFrom",
                        "type": "string",
                        "description": "период приема предложений, от"
                    },
                    {
                        "in": "query",
                        "name": "periodOfferTo",
                        "type": "string",
                        "description": "период приема предложений, до"
                    },
                    {
                        "in": "query",
                        "name": "periodAuctionFrom",
                        "type": "string",
                        "description": "период аукцииона, от"
                    },
                    {
                        "in": "query",
                        "name": "periodAuctionTo",
                        "type": "string",
                        "description": "период аукцииона, до"
                    },
                    {
                        "in": "query",
                        "name": "periodAwardFrom",
                        "type": "string",
                        "description": "период квалификации, от"
                    },
                    {
                        "in": "query",
                        "name": "periodAwardTo",
                        "type": "string",
                        "description": "период квалификации, до"
                    },
                    {
                        "in": "query",
                        "name": "buyersNames",
                        "type": "string",
                        "description": "названия заказчиков<br /> json array"
                    },
                    {
                        "in": "query",
                        "name": "buyersIdentifiers",
                        "type": "string",
                        "description": "коды заказчиков<br /> json array"
                    },
                    {
                        "in": "query",
                        "name": "buyersTypes",
                        "type": "string",
                        "description": "типы заказчиков<br /> json array"
                    },
                    {
                        "in": "query",
                        "name": "buyersMainGeneralActivities",
                        "type": "string",
                        "description": "основные типы деятельности заказчиков<br /> json array"
                    },
                    {
                        "in": "query",
                        "name": "buyersMainSectoralActivities",
                        "type": "string",
                        "description": "отраслевые типы деятельности заказчиков<br /> json array"
                    },
                    {
                        "in":"query",
                        "name":"pageSize",
                        "type":"string",
                        "required":false,
                        "description": "Кол-во записей на странице"
                    },
                    {
                        "in":"query",
                        "name":"page",
                        "type":"string",
                        "required":false,
                        "description": "Номер страницы для отображения"
                    }
                ],
                "responses":{
                    "200":{
                        "description":"OK",
                        "schema":{
                            "$ref":"#/definitions/200Tender"
                        }
                    },
                    "400":{
                        "description":"Data Validation Failed."
                }
             }
           }
        },
      "/v1/plans/search": {
        "get": {
          "tags": [
            "Plans"
          ],
          "summary": "Get all tenders with ElasticSearch (Получение всех планов через Elasticsearch)",
          "description": "получение всех записей о планах через Elasticsearch",
          "consumes": [
            "application/x-www-form-urlencoded"
          ],
          "produces": [
            "application/json"
          ],
          "parameters":[
            {
              "in": "query",
              "name": "id",
              "type": "string",
              "required":false,
              "description": "id"
            },
            {
              "in": "query",
              "name": "entityId",
              "type": "string",
              "required":false,
              "description": "planID"
            },
            {
              "in":"query",
              "name":"titlesOrDescriptions",
              "type":"string",
              "required":false,
              "description": "поле полнотекстового поиска"
            },
            {
              "in": "query",
              "name": "titlesOrDescriptionsStrict",
              "type": "boolean",
              "enum": [true, false],
              "description": "признак строгого соответствия"
            },
            {
              "in": "query",
              "name": "proceduresTypes",
              "type": "string",
              "description": "типы процедур<br /> json array"
            },
            {
              "in": "query",
              "name": "amountFrom",
              "type": "string",
              "description": "бюджет, от"
            },
            {
              "in": "query",
              "name": "amountTo",
              "type": "string",
              "description": "бюджет, до"
            },
            {
              "in": "query",
              "name": "classifications",
              "type": "string",
              "description": "классификации<br /> json array"
            },
            {
              "in":"query",
              "name":"pageSize",
              "type":"string",
              "required":false,
              "description": "Кол-во записей на странице"
            },
            {
              "in":"query",
              "name":"page",
              "type":"string",
              "required":false,
              "description": "Номер страницы для отображения"
            }
          ],
          "responses":{
            "200":{
              "description":"OK",
              "schema":{
                "$ref":"#/definitions/200Tender"
              }
            },
            "400":{
              "description":"Data Validation Failed."
            }
          }
        }
      }
    },
  "definitions":{
    "200Budget":{
      "type":"object",
      "required":[
        "code",
        "status",
        "data"
      ],
      "properties":{
        "code":{
          "type":"integer",
          "format":"int32",
          "example":"200"
        },
        "status":{
          "type":"string",
          "example":"OK"
        },
        "data":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/Budget"
          }
        }
      }
    }, 
    "Budget":{
      "type":"object",
      "required":[
        "ocid",
        "title",
        "description"
      ],
      "properties":{
        "ocid":{
          "type":"string",
          "example":"ocds-t1s2t3-MD-1533819752081"
        },
         "title":{   
          "type":"string",
          "example":"Stuff hot magazine religious staff."
        },       
        "description":{
          "type":"string",
          "example":"Become those state remain gas floor story south war imagine end card sing important risk less nothing mention lay region rich draw about degree."
        }
      }
    },  
    "200Tender":{
      "type":"object",
      "required":[
        "code",
        "status",
        "data"
      ],
      "properties":{
        "code":{
          "type":"integer",
          "format":"int32",
          "example":"200"
        },
        "status":{
          "type":"string",
          "example":"OK"
        },
        "data":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/Tender"
          }
        }
      }
    }, 
    "Tender":{
      "type":"object",
      "required":[
        "tender_id",
        "title",
        "description"
      ],
      "properties":{
        "tender_id":{
          "type":"string",
          "example":"6c440d4ff3364cac9d9b6bb00ccdaa14"
        },
         "title":{   
          "type":"string",
          "example":"[ТЕСТУВАННЯ] Тест документів 6121323"
        },       
        "description":{
          "type":"string",
          "example":"Тестовий mod"
        }
      }
    },  
    "200Methods":{
      "type":"object",
      "required":[
        "code",
        "status",
        "data"
      ],
      "properties":{
        "code":{
          "type":"integer",
          "format":"int32",
          "example":"200"
        },
        "status":{
          "type":"string",
          "example":"OK"
        },
        "data":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/Methods"
          }
        }
      }
    },
    "Methods":{
      "type":"object",
      "required":[
        "id",
        "name"
      ],
      "properties":{
        "id":{
          "type":"string",
          "example":"/v1/company-customer-types"
        },
        "name":{
          "type":"string",
          "example":"Замовник, що здійснює закупівлі для потреб оборони"
        }
      }
    }    
  }
}